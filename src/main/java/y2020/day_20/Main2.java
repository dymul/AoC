package y2020.day_20;

import java.util.HashMap;
import java.util.LinkedList;
import java.util.List;
import java.util.Map;
import java.util.stream.Collectors;

public class Main2 {

    static Map<Integer, Tile> map = new HashMap<>();
    static Map<String, List<Tile>> edgeToTile = new HashMap<>();
    static Map<String, Integer> edges = new HashMap<>();
    static List<List<Tile>> ordered = new LinkedList<>();

    public static void main(String[] args) {

        String[] in = input;

        List<String> tile = new LinkedList<>();
        for (String s: in) {
            if (s.equals("")) {
                Tile newTile = new Tile(tile);
                map.put(newTile.id, newTile);
                tile.clear();
            } else {
                tile.add(s);
            }
        }

        for (Tile t : map.values()) {
            for (String edge : t.edges) {
                edges.compute(edge, (k, v) -> v==null ? 1 : v+1);
                edgeToTile.compute(edge, (k,v) -> {
                    if (v == null) {
                        List<Tile> list = new LinkedList<>();
                        list.add(t);
                        return list;
                    } else {
                        v.add(t);
                        return v;
                    }
                });
            }
        }


        List<Tile> corners = map.values().stream()
                .filter(t -> {
                    long count = t.edges.stream().filter(e -> edges.get(e) == 1).count();
                    return count == 4;
                }).collect(Collectors.toList());

        int size = (int)Math.sqrt(map.size());
        //first row
        Tile t0 = corners.get(0);
        while(!(match(t0.right())&&match(t0.bottom()))) {
            t0.mute();
        }
        ordered.add(new LinkedList<>());
        ordered.get(0).add(t0);
        for(int i = 1; i < size -1; i++) {
            Tile prev = ordered.get(0).get(i - 1);
            List<Tile> tiles = edgeToTile.get(prev.right());
            Tile t = tiles.get(0).equals(prev) ? tiles.get(1) : tiles.get(0);
            while(!(match(t.right())&&match(t.bottom())&&match(t.left(), prev.right()))) {
                t.mute();
            }
            ordered.get(0).add(t);
        }
        Tile prev = ordered.get(0).get(size - 2);
        List<Tile> tiles = edgeToTile.get(prev.right());
        Tile t = tiles.get(0).equals(prev) ? tiles.get(1) : tiles.get(0);
        while(!(match(t.bottom())&&match(t.left(), prev.right()))) {
            t.mute();
        }
        ordered.get(0).add(t);

        //rest rows
        for (int i = 1; i < size - 1; i++) {
            //first tile
            ordered.add(new LinkedList<>());
            Tile top = ordered.get(i-1).get(0);
            tiles = edgeToTile.get(top.bottom());
            t = tiles.get(0).equals(top) ? tiles.get(1) : tiles.get(0);
            while(!(match(t.right())&&match(t.bottom())&&match(t.top(), top.bottom()))) {
                t.mute();
            }
            ordered.get(i).add(t);

            //rest asStreams tiles
            for(int j = 1; j < size -1; j++) {
                prev = ordered.get(i).get(j - 1);
                top = ordered.get(i-1).get(j);
                tiles = edgeToTile.get(prev.right());

                t = tiles.get(0).equals(prev) ? tiles.get(1) : tiles.get(0);
                while(!(match(t.right())&&match(t.bottom())&&match(t.left(), prev.right())&&match(t.top(), top.bottom()))) {
                    t.mute();
                }
                ordered.get(i).add(t);
            }
            //last tile
            prev = ordered.get(i).get(size - 2);
            top = ordered.get(i-1).get(size-1);
            tiles = edgeToTile.get(prev.right());
            t = tiles.get(0).equals(prev) ? tiles.get(1) : tiles.get(0);
            while(!(match(t.bottom())&&match(t.left(), prev.right())&&match(t.top(), top.bottom()))) {
                t.mute();
            }
            ordered.get(i).add(t);

        }

        //last row
        ordered.add(new LinkedList<>());
        Tile top = ordered.get(size-2).get(0);
        tiles = edgeToTile.get(top.bottom());
        t = tiles.get(0).equals(top) ? tiles.get(1) : tiles.get(0);
        while(!(match(t.right())&&match(t.top(), top.bottom()))) {
            t.mute();
        }
        ordered.get(size-1).add(t);

        //rest asStreams tiles
        for(int j = 1; j < size -1; j++) {
            prev = ordered.get(size-1).get(j - 1);
            top = ordered.get(size-2).get(j);
            tiles = edgeToTile.get(prev.right());

            t = tiles.get(0).equals(prev) ? tiles.get(1) : tiles.get(0);
            while(!(match(t.right())&&match(t.left(), prev.right())&&match(t.top(), top.bottom()))) {
                t.mute();
            }
            ordered.get(size-1).add(t);
        }
        //last tile
        prev = ordered.get(size-1).get(size - 2);
        top = ordered.get(size-2).get(size-1);
        tiles = edgeToTile.get(prev.right());
        t = tiles.get(0).equals(prev) ? tiles.get(1) : tiles.get(0);
        while(!(match(t.left(), prev.right())&&match(t.top(), top.bottom()))) {
            t.mute();
        }
        ordered.get(size-1).add(t);

        //lets clean ad collect
        Tile bigTile = cleanAndCollect();

        int snakes = countSnakes(bigTile);
        long hashes = bigTile.countHashes();
        long result = hashes - 15*snakes;


        System.out.println(result);



    }

    private static int countSnakes(Tile bigTile) {
        int count = 0;
        while(count == 0) {
            bigTile.mute();
            System.out.println("muted");
            List<String> lines = bigTile.points;
            for (int i = 1; i < lines.size()-1; i++) {
                String line = lines.get(i);
                String prev = lines.get(i-1);
                String next = lines.get(i+1);
                for (int j = 0; j < line.length()-20; j++) {
                    if (line.charAt(j)=='#' &&
                            line.charAt(j+5)=='#' &&
                            line.charAt(j+6)=='#' &&
                            line.charAt(j+11)=='#' &&
                            line.charAt(j+12)=='#' &&
                            line.charAt(j+17)=='#' &&
                            line.charAt(j+18)=='#' &&
                            line.charAt(j+19)=='#' &&
                            prev.charAt(j+18)=='#' &&
                            next.charAt(j+1)=='#' &&
                            next.charAt(j+4)=='#' &&
                            next.charAt(j+7)=='#' &&
                            next.charAt(j+10)=='#' &&
                            next.charAt(j+13)=='#' &&
                            next.charAt(j+16)=='#') {
                        count++;
                    }

                }
            }
        }
        return count;
    }

    private static Tile cleanAndCollect() {
        for(Tile t : map.values()) {
            t.cleanBorders();
        }
        List<String> lines = new LinkedList<>();
        for (int i = 0; i < ordered.size(); i++) {
            for (int j = 0; j < 8; j++) {
                String line = "";
                for (int k = 0; k < ordered.get(i).size(); k++) {
                    line+=ordered.get(i).get(k).points.get(j);
                }
                lines.add(line);
            }
        }

        ((LinkedList<String>) lines).addFirst("Tile 0:");
        return new Tile(lines);
    }

    static boolean match(String edge) {
        return edges.get(edge) == 2;
    }
    static boolean match(String edge, String edge2) {
        return edge2.equals(edge);
    }

    static String[] input = {
            "Tile 1319:",
            "#.########",
            "##.#.#.#..",
            ".....#..##",
            ".#.....#..",
            ".........#",
            "#.........",
            "#..##...#.",
            "#.#.#...##",
            ".#....#...",
            "....##..#.",
            "",
            "Tile 3547:",
            "##.##.#.##",
            ".....##.##",
            "...#.....#",
            "#..#.##.##",
            "#.....#...",
            "#....##...",
            "...###....",
            ".....#.#.#",
            "#.##....#.",
            "###.#.##.#",
            "",
            "Tile 3373:",
            "##.##..#.#",
            "#.###.#..#",
            "#..####.#.",
            "...#...#..",
            "###.###...",
            "...#.#..##",
            "........#.",
            "#.#.#.#.#.",
            ".#.#......",
            "#.#.#..#.#",
            "",
            "Tile 3329:",
            "....#...#.",
            "#.....##..",
            "####.##..#",
            "..#..##..#",
            "#........#",
            "#..#..#...",
            ".#..#..#.#",
            ".....####.",
            "....#.....",
            "#..##..##.",
            "",
            "Tile 3221:",
            ".##.#.##.#",
            "##.....###",
            "........#.",
            ".#........",
            "#.#......#",
            "..#..#...#",
            "##..#.#...",
            "..#..####.",
            "#.#.......",
            "...#.##.#.",
            "",
            "Tile 3307:",
            "##...##...",
            "#..#..#..#",
            "#........#",
            ".#.....##.",
            "...##.#...",
            ".....#...#",
            ".#..##.#..",
            ".....#..#.",
            "..........",
            "#..####...",
            "",
            "Tile 2389:",
            "..###...##",
            "...##...#.",
            "#.##..#..#",
            "##.......#",
            "..........",
            "#.......#.",
            "##...#..#.",
            "##...#.#..",
            ".....#...#",
            ".###.#....",
            "",
            "Tile 2851:",
            ".####..#..",
            ".......##.",
            "#.....#..#",
            "#..#......",
            "#........#",
            "......#.#.",
            "...#....#.",
            "#....####.",
            "#.##.....#",
            ".#.#.#####",
            "",
            "Tile 3271:",
            ".##..##.##",
            "#.#####..#",
            "....#...##",
            "#.####...#",
            "...#..#..#",
            "#....#...#",
            "..##......",
            ".#...#.#..",
            "#...#.#...",
            "##.###....",
            "",
            "Tile 3821:",
            "#####..#.#",
            ".......#.#",
            "#......##.",
            "#..#..#..#",
            ".#..##...#",
            "#.....#..#",
            ".#..#....#",
            "#...###..#",
            "#.#.......",
            "...#.....#",
            "",
            "Tile 1811:",
            "#..##.###.",
            "......###.",
            "#...##.#.#",
            ".....##.#.",
            "##...#...#",
            ".##..#..#.",
            "#.....##.#",
            "...#..#.##",
            "....##...#",
            "....##.##.",
            "",
            "Tile 3739:",
            ".###.##..#",
            "#.##...#.#",
            "#..#...#..",
            "#.....#.##",
            "#.....#...",
            "...##.....",
            "......#...",
            "..#.....##",
            "#.#.#....#",
            "##....#.#.",
            "",
            "Tile 2377:",
            "...##.#.#.",
            "##....#.#.",
            "##........",
            "....#....#",
            "......#.##",
            "##...#....",
            "........#.",
            ".......#..",
            "#....#....",
            ".#......##",
            "",
            "Tile 3853:",
            ".#..#.#...",
            "###.#.#.##",
            "##....#..#",
            "#.#..#....",
            "..#.#.....",
            "##.##..#.#",
            ".#........",
            "##..#.##..",
            "...###...#",
            "..###.#.#.",
            "",
            "Tile 3037:",
            "##.####...",
            "#....##..#",
            "#......###",
            "###.#..##.",
            "........#.",
            ".......##.",
            "..#....#.#",
            "........##",
            ".#.##..#..",
            "#..#..#.##",
            "",
            "Tile 2381:",
            "..#.##.###",
            "...#...##.",
            "#....#....",
            ".........#",
            "##.#.....#",
            ".....##.##",
            "#.....####",
            ".###......",
            "........##",
            ".##......#",
            "",
            "Tile 1663:",
            "####...##.",
            "#.....#.#.",
            "#..##...#.",
            ".........#",
            "......####",
            ".#.....###",
            "......#..#",
            ".........#",
            ".........#",
            ".#####..##",
            "",
            "Tile 3167:",
            "..##...##.",
            ".#.....##.",
            "#......#..",
            ".#.#......",
            "#....#....",
            "#..#.##...",
            ".#..###...",
            "......##..",
            "#...#..#.#",
            "##..#.###.",
            "",
            "Tile 1481:",
            ".#.###.#.#",
            ".##......#",
            "####...#..",
            "..........",
            ".....#....",
            "#.........",
            ".#.##..#..",
            ".#.##....#",
            "..###....#",
            ".##.####.#",
            "",
            "Tile 3457:",
            ".#.#..####",
            ".........#",
            "#.......##",
            "#........#",
            ".#.......#",
            "#.##.....#",
            ".##..#.##.",
            ".....#...#",
            "#...#....#",
            "....##..#.",
            "",
            "Tile 3229:",
            "#..###..#.",
            ".....##...",
            "##..#.#...",
            "#.....##..",
            "..#..#....",
            "..##....##",
            "#.........",
            ".....#..#.",
            "#..#.....#",
            "..#.######",
            "",
            "Tile 1447:",
            ".#..##.#.#",
            ".##.##...#",
            "...#.#....",
            "...#...##.",
            "....#.....",
            ".#..#.....",
            "#.#......#",
            ".....#...#",
            "#..#...#.#",
            ".##....#..",
            "",
            "Tile 2243:",
            "##.#.##.##",
            "###.#..#..",
            "....##..##",
            "..##.....#",
            "....###...",
            "#..#...#.#",
            "#..#.....#",
            "#...#.#.##",
            "##..##..##",
            "..###.#.#.",
            "",
            "Tile 2927:",
            "#.#.#####.",
            ".#......##",
            "#.......#.",
            "#...#....#",
            "....#.#..#",
            "....###...",
            "...#.....#",
            ".##.......",
            "#.#.......",
            "..#.###.##",
            "",
            "Tile 2267:",
            ".##....#.#",
            "..###....#",
            "..##.##...",
            ".##..#.#.#",
            "...##...#.",
            "..#...##.#",
            "..#...##.#",
            "..##...#..",
            "..##...#..",
            "#.#..#....",
            "",
            "Tile 2027:",
            "###.#....#",
            "..#.#.###.",
            "...#...###",
            ".........#",
            ".#...#..##",
            "...#.....#",
            "#.......#.",
            "#.....####",
            ".#...#...#",
            "#..#######",
            "",
            "Tile 3539:",
            "#..#..###.",
            "#...#...#.",
            "....#.#.#.",
            ".###.##.#.",
            "......#...",
            "...#...#.#",
            "###...#...",
            ".......###",
            "#..#...#..",
            "###.#.#.#.",
            "",
            "Tile 3319:",
            ".#..###...",
            "#.#.......",
            "......#...",
            "......#.#.",
            ".......###",
            "#...#...#.",
            "..###....#",
            ".#.#...##.",
            "##.#..#.##",
            ".....#...#",
            "",
            "Tile 2861:",
            "..#...#.##",
            "...##..#..",
            ".#.......#",
            "##...##..#",
            ".....#....",
            "...#.#...#",
            "..##..#...",
            "...#.....#",
            "..##..#...",
            "....#.#..#",
            "",
            "Tile 3833:",
            "#...#..##.",
            "##.#.....#",
            "........##",
            "#....#..##",
            ".#..#.....",
            "......#..#",
            "##..##.#..",
            "#.#..#....",
            "..#....##.",
            "..#######.",
            "",
            "Tile 2357:",
            "..#.#....#",
            "##..#..##.",
            "#.##....##",
            "..#......#",
            "#........#",
            ".....#.#.#",
            "...##..#..",
            ".###...###",
            "..#.#....#",
            "###.##..##",
            "",
            "Tile 2647:",
            ".#.##.###.",
            "#......#.#",
            "####..#...",
            "##..#.#.##",
            "#..#.....#",
            "#....#....",
            "#.#.......",
            "#.##.#..#.",
            "##.#......",
            "#..#####..",
            "",
            "Tile 1103:",
            ".##.#....#",
            "#....#.#..",
            ".#..###.##",
            "##.#.#..#.",
            "..#.####.#",
            "#.###.#.#.",
            "..#......#",
            "#...#..#.#",
            "....#...#.",
            "#.#..##...",
            "",
            "Tile 3253:",
            "....#..#..",
            ".........#",
            "#...#.....",
            "...#...#..",
            "..##......",
            "#####.....",
            "#......#..",
            "..#.#.#...",
            ".....##.#.",
            "##..#....#",
            "",
            "Tile 1789:",
            "..###.##..",
            "#......#.#",
            "....#.....",
            "#..#..##..",
            "......#.##",
            "....#..#..",
            "#.#.#....#",
            "...#.#.#.#",
            "....#...#.",
            "..####.##.",
            "",
            "Tile 2897:",
            "..###...#.",
            "#......#..",
            "#....#....",
            "..........",
            "#.#......#",
            "...##.#...",
            "#.#..#..##",
            "........#.",
            "#....#....",
            ".##.##..#.",
            "",
            "Tile 3347:",
            "....#...#.",
            ".#.##.....",
            "..#......#",
            "#.........",
            "#..#.....#",
            "#...#..#.#",
            "##.####..#",
            "..........",
            "####...#..",
            "#.#....#..",
            "",
            "Tile 1091:",
            "#.#.##..##",
            "#.##.#.#.#",
            "#.#.#...##",
            "........#.",
            "#.####...#",
            "##.#..####",
            "#.#.#..#..",
            "#.##.....#",
            "....##....",
            ".##..###.#",
            "",
            "Tile 1427:",
            "##.#...#..",
            "..#.#....#",
            "....##..#.",
            "....#..#.#",
            ".....#.##.",
            ".#........",
            "........##",
            "##..###..#",
            ".#..#..#..",
            "###...####",
            "",
            "Tile 2069:",
            ".##.######",
            "##.......#",
            "..#....#.#",
            "##....#..#",
            "#.#.....##",
            "#....##..#",
            "#....#....",
            "..#...#..#",
            "...#....#.",
            "##..#..###",
            "",
            "Tile 3041:",
            "##..#..###",
            ".##.......",
            ".......#..",
            "#.....#...",
            "##..#...##",
            ".....#..##",
            "..#.......",
            "###.#.....",
            "##...#...#",
            ".#..##.#.#",
            "",
            "Tile 2879:",
            "#.##.#.#.#",
            ".....#..#.",
            "#.#....#.#",
            "###...#...",
            "#..#......",
            ".....#...#",
            "..##......",
            "#......#.#",
            "#....#.#..",
            "####...#..",
            "",
            "Tile 1373:",
            "..#..#..##",
            ".##....#..",
            "#.....#...",
            "#......#.#",
            "#.#....#..",
            "..##..#..#",
            "...#.....#",
            "##.##.##..",
            ".##......#",
            "...#..###.",
            "",
            "Tile 3433:",
            ".####..###",
            "##.......#",
            "#..#.....#",
            "...#..#..#",
            ".#...##..#",
            "#.#....##.",
            "...#......",
            "#...#....#",
            ".#.......#",
            "..##.#.###",
            "",
            "Tile 2633:",
            "#.###.##..",
            "#...#..#.#",
            ".....#.###",
            "#..#..#..#",
            ".##.#..#.#",
            "..##.....#",
            "....##....",
            "..#.#..###",
            "#.....#...",
            "..#.....#.",
            "",
            "Tile 1933:",
            "#.#.#####.",
            ".##..#.#..",
            "###.###..#",
            "#.#.##....",
            "##...#....",
            "##.......#",
            "###..#....",
            "##..#.....",
            "#####.##..",
            "##.#..#..#",
            "",
            "Tile 3391:",
            ".#....####",
            "...#.#.#..",
            "..##....##",
            "#.#..#..#.",
            ".#.##.#...",
            "..#.#....#",
            "#.#....#.#",
            "....#.#...",
            "#.....#..#",
            "#.#..###..",
            "",
            "Tile 2153:",
            ".#...##...",
            "#.#.......",
            "#..#......",
            "......#...",
            "..###....#",
            "#.###...##",
            "##.......#",
            "...#..##.#",
            "#......#..",
            ".#.#...##.",
            "",
            "Tile 1873:",
            ".#..#.####",
            "#..#..#..#",
            "##..##..##",
            "#..##.....",
            "#..#.#...#",
            "..#.....##",
            "#.......#.",
            "###.......",
            "#....##...",
            "##..####..",
            "",
            "Tile 3919:",
            "#.###.####",
            "#.........",
            "#.#.#..#..",
            "..#.#.....",
            "..#.#..#..",
            "#..##.....",
            "#..#.#....",
            "#........#",
            "##...##.##",
            "#..#.#.###",
            "",
            "Tile 1277:",
            "#.#......#",
            "##...#....",
            "#..#...#.#",
            ".#...#.###",
            "#....#.#.#",
            "....#.....",
            "####......",
            ".....#.#.#",
            ".#...#..##",
            "...###.#.#",
            "",
            "Tile 3793:",
            "..##.##.#.",
            "...#.....#",
            ".#.......#",
            "#.#.##....",
            "#..#.....#",
            "##....#...",
            ".......#.#",
            "##.....#.#",
            "#.#.#...##",
            "###..##.#.",
            "",
            "Tile 1993:",
            "##..##.#..",
            "..#..##...",
            "#.#....###",
            ".......#..",
            "#........#",
            "..........",
            "....#...#.",
            "....#..#..",
            "#......#..",
            "#.#..#.#..",
            "",
            "Tile 1123:",
            "#.#####..#",
            "...#...###",
            ".##..#.#..",
            ".....#.#..",
            "#..#.....#",
            "....#...##",
            "#...##...#",
            "...#.##...",
            "#.##...#.#",
            ".###.###.#",
            "",
            "Tile 1231:",
            "#########.",
            "#...#.#..#",
            "..###....#",
            "#..#.....#",
            "####.....#",
            "..#...#..#",
            ".#.##.#...",
            "#...#.....",
            "###..#....",
            "###...#.#.",
            "",
            "Tile 1019:",
            "..######.#",
            "#....##..#",
            "...#.....#",
            "##.....#.#",
            ".........#",
            "###......#",
            "..#..#...#",
            ".#....#...",
            ".#...#....",
            "#...###..#",
            "",
            "Tile 3863:",
            "....#.#.#.",
            "...#......",
            "..##.###.#",
            "##..###..#",
            ".........#",
            ".#.##....#",
            "#.....##.#",
            "#........#",
            "#.#.......",
            "###.##..##",
            "",
            "Tile 1831:",
            "###.#.##.#",
            ".#..#..#.#",
            "......#.#.",
            "#.##.....#",
            "..#.#..#.#",
            "#........#",
            "#...#...#.",
            "#.........",
            ".....##..#",
            "....#####.",
            "",
            "Tile 1031:",
            ".#.###.#.#",
            "..........",
            "#..##.....",
            "#..#...#.#",
            ".#.#......",
            "##.#.....#",
            "..#......#",
            "....##...#",
            "..#...#..#",
            "###...###.",
            "",
            "Tile 2029:",
            "......#..#",
            "...#.....#",
            "....#.#.##",
            "##.#.#...#",
            "#........#",
            ".......##.",
            "..........",
            ".#.#......",
            "##.....#.#",
            ".#.##..###",
            "",
            "Tile 2837:",
            "#...#.#..#",
            ".#........",
            "##.....#.#",
            "...#.....#",
            "....###.##",
            ".#..###...",
            "..###.##.#",
            "#.#..#..##",
            "#....##..#",
            "....#.#.#.",
            "",
            "Tile 3877:",
            "###.#.#..#",
            "#.....#..#",
            ".......#..",
            "..###..#..",
            "..##......",
            "..#.#....#",
            "##.......#",
            "..#...#...",
            ".##.#...##",
            "...#..##.#",
            "",
            "Tile 1249:",
            "#..#..####",
            ".........#",
            ".........#",
            "...#......",
            "#.......##",
            "...##.#.##",
            "#.........",
            "#.#.......",
            "#...###...",
            ".#.#..##..",
            "",
            "Tile 1601:",
            ".##.#..#..",
            "..#.......",
            "#.....####",
            "#........#",
            "#..#...##.",
            "#.#....#.#",
            "#........#",
            "..........",
            "...#..#.##",
            "#..##.##..",
            "",
            "Tile 2749:",
            "#.......#.",
            "#...#.....",
            "..#....#.#",
            ".........#",
            ".#....#...",
            "......#..#",
            "....#...#.",
            ".....#....",
            ".###......",
            "##..##.#.#",
            "",
            "Tile 3613:",
            "##.#...###",
            ".##..###..",
            "...#......",
            "...#...##.",
            ".....#....",
            "#...#...#.",
            "#.###....#",
            "#.........",
            ".........#",
            "###.##...#",
            "",
            "Tile 3491:",
            ".#.#...#..",
            "#...#.....",
            "#..#...##.",
            "..#.......",
            "..#......#",
            "..#...#...",
            "#.#.......",
            "....##.#.#",
            "#..#....##",
            ".####.....",
            "",
            "Tile 2441:",
            "#.....###.",
            "#........#",
            ".#....#..#",
            "#.....#..#",
            "#..#...#..",
            "##....#..#",
            "..#.......",
            "....###.#.",
            "#......###",
            ".#.##.###.",
            "",
            "Tile 2417:",
            ".....#....",
            "#...###.#.",
            "..#.......",
            ".......#..",
            "#.......#.",
            "..#.##...#",
            "#.........",
            "....#....#",
            "..#.......",
            "##.##....#",
            "",
            "Tile 2663:",
            "###.#####.",
            "##..##....",
            "#..#...#..",
            "#.#......#",
            "#.#......#",
            "#...##.##.",
            "#.........",
            "..#..##...",
            "#....#....",
            "..#.#.#.##",
            "",
            "Tile 3527:",
            ".####..###",
            "#.#...####",
            "#..##.....",
            "....#..#..",
            "#.......#.",
            ".#.......#",
            "..##..#..#",
            "........#.",
            "##.......#",
            "###...#..#",
            "",
            "Tile 1777:",
            ".#.####..#",
            ".#...#.#..",
            "###..#.##.",
            "..##..#...",
            ".......#.#",
            "#.#....#.#",
            "...#....#.",
            "#........#",
            ".#.#.....#",
            "#.##...##.",
            "",
            "Tile 1213:",
            "...###.#.#",
            "##......##",
            "#........#",
            ".#........",
            "....#...#.",
            ".#........",
            "..#....#..",
            "...#.#....",
            "..#.#.####",
            "#..##..#..",
            "",
            "Tile 3967:",
            ".....#....",
            "##..#...##",
            "##........",
            "#.#.......",
            "#...#..#.#",
            "..........",
            ".....#.#..",
            "##.....#.#",
            "#...##...#",
            "..#.##.#.#",
            "",
            "Tile 2683:",
            "...##..#.#",
            "##..##....",
            "#.##......",
            "##.......#",
            "#####...##",
            "#.#..#....",
            ".#.......#",
            "###....#..",
            ".#.......#",
            ".......#.#",
            "",
            "Tile 1499:",
            ".#.....#.#",
            "..#.....#.",
            "####....##",
            "#........#",
            "#.#.#....#",
            "#..#....#.",
            "#.#..##...",
            "#.#.#..#.#",
            "#.##......",
            "..#.###.##",
            "",
            "Tile 2687:",
            ".#...#.#..",
            "..#.......",
            ".........#",
            "...##.....",
            "#.......#.",
            ".......#.#",
            "#..#.....#",
            "..###...##",
            ".#....#..#",
            "##...#.#.#",
            "",
            "Tile 3469:",
            "##.##.....",
            "#.##......",
            "........#.",
            "##.#.###.#",
            ".....#.#..",
            "#.....##..",
            ".#.#.#..#.",
            "#..#.#....",
            "#.#...#..#",
            "...##...##",
            "",
            "Tile 1697:",
            ".####.....",
            "...##.#..#",
            "#.#.###..#",
            "##.....#..",
            ".......###",
            "#....#.#..",
            "...#.#...#",
            "...#......",
            "..#..##..#",
            "...#.##.##",
            "",
            "Tile 1451:",
            "###.#.#.#.",
            ".#..#.#...",
            "#.....#.##",
            "#.....##.#",
            "###...##..",
            ".#........",
            ".#..####..",
            "#.....####",
            ".#.#..##.#",
            "##..#..#..",
            "",
            "Tile 2789:",
            "..#.#.#.#.",
            "...#....#.",
            "#.##.#....",
            "#...#.###.",
            ".........#",
            "#.......#.",
            "###....#.#",
            ".....#...#",
            ".#.....#..",
            "##.##..###",
            "",
            "Tile 2213:",
            ".#.#...###",
            "#.#....#..",
            "..#....#..",
            "#..#.#...#",
            "#...#...#.",
            "###.......",
            "#..####..#",
            "##..#..##.",
            ".........#",
            "####....#.",
            "",
            "Tile 3637:",
            "..#.##.#.#",
            "......####",
            "#.#...#.#.",
            "..#.#..#.#",
            "#..#..#..#",
            "..........",
            "#..#...#.#",
            ".......#..",
            "..........",
            "...#.#.###",
            "",
            "Tile 1997:",
            "##..###..#",
            "..#.#.....",
            "...#.#...#",
            ".......#..",
            "#....#.#..",
            "#..####...",
            "####...##.",
            "...#.....#",
            "#..##.#..#",
            "#.....#.##",
            "",
            "Tile 3089:",
            "..##..#.#.",
            "#.##.#.#..",
            ".#..##.#..",
            "...#.#...#",
            "#.##..####",
            "#...#....#",
            "#........#",
            "#.#.......",
            "#..##....#",
            "..#...#...",
            "",
            "Tile 2113:",
            "#...#.....",
            "#.#.##..##",
            "#....#...#",
            ".###......",
            "##..#.....",
            ".#....#..#",
            "....##..##",
            ".#.....#.#",
            "..........",
            "#......#..",
            "",
            "Tile 1699:",
            "#.####....",
            "###..####.",
            "###.####..",
            "....#....#",
            "....##.#..",
            "#.#.#.....",
            "..#.#....#",
            "###..##..#",
            "........#.",
            "......##.#",
            "",
            "Tile 3607:",
            "###..#....",
            "....#..#..",
            "....#.###.",
            "......#...",
            ".........#",
            "##.#.###.#",
            "##..##....",
            "####.....#",
            "#........#",
            "..##..#...",
            "",
            "Tile 1867:",
            "#..#..#...",
            "..#..#...#",
            "###......#",
            "#...#.....",
            ".........#",
            "..........",
            "##.#....#.",
            "##.#......",
            "#.......##",
            "...###.#..",
            "",
            "Tile 2473:",
            "#.....###.",
            "..#.##...#",
            "##..#.#...",
            ".#.......#",
            "........##",
            ".....#.#.#",
            "#...#.#.##",
            "##..##...#",
            "#..#.....#",
            "##....#.#.",
            "",
            "Tile 2707:",
            "#.#..#.###",
            "..#..#....",
            "#.#..#...#",
            "......##..",
            "..#..#....",
            "#..##.....",
            "##.#..##.#",
            "#.##.#.#..",
            "#.#..##.#.",
            "##.#...#.#",
            "",
            "Tile 3533:",
            "####...#..",
            "##......##",
            "##..#..###",
            "...#.#...#",
            ".#.#.#....",
            ".###..##..",
            "..#..#.#.#",
            "......#...",
            "#.##.#..#.",
            ".##.####.#",
            "",
            "Tile 3019:",
            "##.......#",
            "....##....",
            "#..#.#....",
            "........##",
            "#........#",
            "##....#.##",
            ".......##.",
            "....##...#",
            "..#.......",
            "#.#...#..#",
            "",
            "Tile 2699:",
            "#.#.#.#.##",
            ".#...#####",
            "#........#",
            "...#..#.#.",
            ".##.#..#..",
            "#.........",
            "#.#.#...##",
            ".......##.",
            "##...#...#",
            ".#####..##",
            "",
            "Tile 3413:",
            ".#.##....#",
            ".....##..#",
            "#...#..#..",
            "#...#.....",
            "#..#....##",
            ".......#..",
            "...#.....#",
            "......##..",
            "#..#....#.",
            "..#..####.",
            "",
            "Tile 1063:",
            "###..#.###",
            "#.#.#.....",
            "#.#.......",
            "........#.",
            "#..#......",
            "#.##.##.##",
            "#...#....#",
            "#.#.......",
            "#..##....#",
            ".##.......",
            "",
            "Tile 2731:",
            ".####.##..",
            "#.#.......",
            "#.#..##.##",
            "...#...#..",
            "...#......",
            ".....##...",
            "##.#.#...#",
            "##...#....",
            "#.##..##..",
            ".##.##..#.",
            "",
            "Tile 2621:",
            "#..#.#..##",
            "##....#...",
            ".#........",
            ".........#",
            "#.......##",
            "#...###.#.",
            "#......###",
            "#.......#.",
            ".....#...#",
            ".#..#####.",
            "",
            "Tile 1543:",
            ".#....#.##",
            "###.......",
            "..#..#.###",
            ".#.##.....",
            "....#.#.#.",
            ".##.##...#",
            ".##..#....",
            ".#........",
            ".##.....#.",
            "..###..#..",
            "",
            "Tile 1973:",
            "...#......",
            ".#...#...#",
            "#.#.#.#..#",
            "...#...#..",
            "#....#.#..",
            "#####..##.",
            "#..#......",
            "#.#.......",
            "#....#.#.#",
            "####...##.",
            "",
            "Tile 1549:",
            "#.#.##.###",
            ".###....#.",
            "#.......#.",
            "#......#.#",
            "#.#...#.##",
            "#...#...##",
            "#.#....##.",
            "###.#....#",
            "##..#..#..",
            ".###.#.###",
            "",
            "Tile 1381:",
            ".##.#.##..",
            "...##.....",
            "...#.#...#",
            "#...#...#.",
            ".#.#...#.#",
            "#..#......",
            "##........",
            "..........",
            "..#.....##",
            ".#.....##.",
            "",
            "Tile 2131:",
            "####.##..#",
            "####...#..",
            ".##.#.....",
            "#.#....##.",
            "....#....#",
            "#.##...#..",
            "#.....####",
            "#..##....#",
            ".#.##..#.#",
            "#####...#.",
            "",
            "Tile 3769:",
            "#.#.#..#.#",
            "#.##.#....",
            "..##..#..#",
            "#.........",
            "#.#....###",
            "##...#.#..",
            "#......##.",
            "#......#..",
            "..........",
            "#..#..##.#",
            "",
            "Tile 3001:",
            ".###...##.",
            "###..#....",
            "#........#",
            "#.....##.#",
            "..#.#.#...",
            ".#..#.##..",
            "#.....####",
            "..#.##....",
            "#...#.##..",
            "...#.#..#.",
            "",
            "Tile 3299:",
            "##...###.#",
            "##.....###",
            "#..#.##...",
            ".........#",
            "..##.....#",
            "#..#..#...",
            ".....#.###",
            ".#....##..",
            "....#.#...",
            "####...###",
            "",
            "Tile 2411:",
            "...#.#....",
            "#..##.....",
            ".#.##..#.#",
            "#..##..#..",
            "#.#......#",
            "#.........",
            "#.###...#.",
            "...##.....",
            "..#......#",
            ".#...#####",
            "",
            "Tile 3943:",
            "#.#.#.####",
            "##..#.#...",
            "#.......#.",
            "#..#......",
            ".#.......#",
            "###.#.#...",
            ".......##.",
            "#..##....#",
            ".....#...#",
            "...#..#.#.",
            "",
            "Tile 1409:",
            ".###...###",
            ".......#.#",
            "#..##....#",
            "#.####....",
            "##..#..###",
            ".###..#.##",
            "#...#....#",
            "#.....#.##",
            "###..#.#..",
            "##.##.###.",
            "",
            "Tile 1459:",
            "...#.##.##",
            ".....#...#",
            "...#......",
            ".......#.#",
            "#...#.....",
            "...#......",
            "##.#...#.#",
            "#.##..#...",
            "..#.#...##",
            "#..#..#.#.",
            "",
            "Tile 1637:",
            "#.####...#",
            ".......#.#",
            ".#....#.##",
            "#..#..#..#",
            "#..#.....#",
            ".#....#.##",
            "#....#.###",
            ".....###..",
            "#...#..#.#",
            "######....",
            "",
            "Tile 3023:",
            "##.#.###.#",
            "#.#.#.#..#",
            "#.###..#.#",
            "...###..##",
            "#....#...#",
            "##.#......",
            ".....#.#.#",
            "##......#.",
            "#.#......#",
            ".#...#..#.",
            "",
            "Tile 2203:",
            "..#..#...#",
            "#...#....#",
            "#.....##.#",
            "##.#.....#",
            "......#..#",
            "...#...#..",
            "#...#....#",
            ".........#",
            ".##...#...",
            "...##.#.##",
            "",
            "Tile 1399:",
            "#.#.###.##",
            ".........#",
            ".#.....#..",
            "#.#..##...",
            "#...#.....",
            "#..#......",
            ".#..##....",
            ".....#....",
            ".......#..",
            "#.#.##....",
            "",
            "Tile 1151:",
            "##....#.##",
            "###....##.",
            "##...#...#",
            ".....##...",
            "..#..#....",
            ".#..#.....",
            "..........",
            "......##..",
            "#....#..##",
            "#..##...#.",
            "",
            "Tile 3187:",
            "#.###....#",
            "#.#...#..#",
            ".........#",
            "......#..#",
            "#..#.#...#",
            ".#...#####",
            "#........#",
            ".....#....",
            "#.#.......",
            "...#.##...",
            "",
            "Tile 3079:",
            "##..#.#...",
            "...##.#...",
            ".#..##...#",
            "...#......",
            ".#.#....#.",
            "..........",
            "#..#......",
            "#.#..#....",
            "..##......",
            "..#.#....#",
            "",
            "Tile 1693:",
            "#..#...###",
            ".#..#....#",
            "#.#......#",
            "#..###.##.",
            ".......#..",
            ".......###",
            ".#....#...",
            "....##.#..",
            "..........",
            ".#..###..#",
            "",
            "Tile 1423:",
            ".##....###",
            "###.#.#..#",
            "#...##...#",
            "#.####.#.#",
            ".......#..",
            ".........#",
            "#..#.#....",
            "#.#.##....",
            "...#.##..#",
            "##.#.#...#",
            "",
            "Tile 1039:",
            "..#.#..##.",
            "###..#..##",
            "#..#......",
            "....#.#..#",
            "###....#.#",
            ".#..#.#..#",
            "......##..",
            "#..###.##.",
            ".#..#....#",
            "#.#.#.....",
            "",
            "Tile 1523:",
            "#..##.#.#.",
            ".......##.",
            "#......#.#",
            "#...#...##",
            "#..##.....",
            "#..#..#.##",
            "..##....##",
            "#.#...#..#",
            ".....#...#",
            "#....####.",
            "",
            "Tile 2957:",
            "#.#.###.##",
            "....#..#..",
            "##..#.....",
            "#.....#..#",
            ".......#..",
            "....#.##.#",
            ".....#....",
            ".........#",
            "......#...",
            "##.#.#....",
            "",
            "Tile 2711:",
            "##.###...#",
            "#...##....",
            "...#......",
            "#..#.....#",
            ".##.#..#..",
            "#.####...#",
            ".###...###",
            "#...#....#",
            ".....#....",
            "#.#####.#.",
            "",
            "Tile 1009:",
            ".##.#...##",
            "#.#......#",
            "....#.#.#.",
            "#..#......",
            "#.........",
            "#........#",
            ".#..#.####",
            "..##.#####",
            "##....#...",
            ".#..#..###",
            "",
            "Tile 2467:",
            ".##....###",
            "....####.#",
            "#..#......",
            "......#...",
            ".....##.##",
            "....#....#",
            "..#.#....#",
            "#...##..#.",
            ".#.......#",
            "#####.#..#",
            "",
            "Tile 2383:",
            "#...#.#..#",
            "......#...",
            "###.......",
            "#..#.....#",
            "..#....#..",
            "#..####.##",
            "#....#...#",
            "#..#....##",
            "#.....####",
            "#.....####",
            "",
            "Tile 3631:",
            "###.#...##",
            "...#.#...#",
            "..#.#..#..",
            "....#....#",
            "#.#....#..",
            "#..##..#.#",
            ".##...#...",
            "#.....#..#",
            "#.##.#....",
            "##.###....",
            "",
            "Tile 3659:",
            "#.#####..#",
            "....#.##.#",
            "#...#.#..#",
            "...#.##..#",
            "#.###.#.#.",
            "#....#.###",
            "...#.#.##.",
            "..#.#.###.",
            "..##.....#",
            ".##.##..##",
            "",
            "Tile 2857:",
            "...##.#.#.",
            "#...#....#",
            "........##",
            "#.........",
            "....#.#...",
            "..#.##.#..",
            "#..##..##.",
            "#.###.....",
            "#.####..#.",
            ".#.#.#.##.",
            "",
            "Tile 1669:",
            "#.#...#.##",
            "#.##....##",
            "#...#..##.",
            ".##.#.#.#.",
            "#........#",
            "..#..##..#",
            "#.........",
            "#.#..#....",
            "#.......#.",
            "..##..###.",
            "",
            "Tile 2521:",
            "...#..####",
            ".##..#.#..",
            ".....#...#",
            ".#....#...",
            ".........#",
            "..#.......",
            ".#.......#",
            ".#.......#",
            "..#....#..",
            "#.###.##..",
            "",
            "Tile 3407:",
            ".###.#.##.",
            "#.....#...",
            "#........#",
            "....#.....",
            "..##.#..##",
            "##........",
            "#.#....#.#",
            "........#.",
            "#.#...#..#",
            "..##.#....",
            "",
            "Tile 3931:",
            "###.###.#.",
            ".#.#..#..#",
            "###.###...",
            ".#.#.#....",
            "#.....##.#",
            "..#..#.#..",
            "...#.....#",
            ".#....#...",
            ".#........",
            "#.#.....##",
            "",
            "Tile 2371:",
            "##.##.....",
            "#.#.###...",
            "..##......",
            "#.#..##...",
            ".#..#..#.#",
            "...####..#",
            "#...#..#.#",
            ".###...#.#",
            "####......",
            "...#..#.##",
            "",
            "Tile 1171:",
            "..##..#.##",
            "#..#.....#",
            "........##",
            "...#.#.#.#",
            ".#.......#",
            "#......#.#",
            "#......#..",
            "..##......",
            ".....##..#",
            "#..#.####.",
            "",
            "Tile 1489:",
            "#....#..##",
            "...#.#...#",
            "#.#.#..#..",
            "....#..#.#",
            "##.#.###.#",
            "####....##",
            "....#....#",
            ".#.....##.",
            "....#.....",
            "##.##..#.#",
            "",
            "Tile 2971:",
            ".####.##.#",
            "#.#.#.#...",
            ".....#..##",
            "....#.....",
            ".#.#......",
            ".#.##.....",
            "...#..#...",
            "...###...#",
            "#..##.####",
            "##...#.###",
            "",
            "Tile 2309:",
            ".#...##.#.",
            "#.#.......",
            ".#..#..#.#",
            "..#.##....",
            ".....##...",
            ".......#.#",
            "..###....#",
            "##.#..#.##",
            ".........#",
            ".###.#..##",
            "",
            "Tile 1129:",
            ".##..##.##",
            "##.#.#.#..",
            "#.##.#..##",
            "..##..##..",
            "#.....#.#.",
            "..##..#...",
            "#.#..#.#..",
            "#..#....#.",
            "....#..##.",
            ".#.##...#.",
            "",
            "Tile 3313:",
            "###.......",
            "###.......",
            ".......#.#",
            ".#.##..#.#",
            "###.#...##",
            ".......##.",
            "....#..##.",
            "..#...####",
            "..#...###.",
            "..#.#..###",
            "",
            "Tile 3209:",
            "#.....##..",
            "##......##",
            "#.#.......",
            "..#...#..#",
            "##..#.....",
            "...#..#..#",
            ".#...#.#..",
            "###..##..#",
            "#.##......",
            "#...####.#",
            "",
            "Tile 3583:",
            ".##.#...#.",
            "...#....#.",
            "#.....#..#",
            ".....#####",
            "#...#.#.##",
            "#..#......",
            "#.#.######",
            "#.....#...",
            "..........",
            ".#.#......",
            "",
            "Tile 3169:",
            ".####..##.",
            "##....#.#.",
            ".#....#..#",
            "##........",
            "#..#.....#",
            "#...#....#",
            "..........",
            "##...#...#",
            "#.....#..#",
            "#...#...##",
            "",
            "Tile 2011:",
            "###.###..#",
            "#.##..#.#.",
            "#....###.#",
            "#......##.",
            "....#....#",
            "#..#.#....",
            "#........#",
            "#....#.###",
            ".........#",
            ".#..######",
            ""
    };

    static String[] input2 = {
            "Tile 2311:",
            "..##.#..#.",
            "##..#.....",
            "#...##..#.",
            "####.#...#",
            "##.##.###.",
            "##...#.###",
            ".#.#.#..##",
            "..#....#..",
            "###...#.#.",
            "..###..###",
            "",
            "Tile 1951:",
            "#.##...##.",
            "#.####...#",
            ".....#..##",
            "#...######",
            ".##.#....#",
            ".###.#####",
            "###.##.##.",
            ".###....#.",
            "..#.#..#.#",
            "#...##.#..",
            "",
            "Tile 1171:",
            "####...##.",
            "#..##.#..#",
            "##.#..#.#.",
            ".###.####.",
            "..###.####",
            ".##....##.",
            ".#...####.",
            "#.##.####.",
            "####..#...",
            ".....##...",
            "",
            "Tile 1427:",
            "###.##.#..",
            ".#..#.##..",
            ".#.##.#..#",
            "#.#.#.##.#",
            "....#...##",
            "...##..##.",
            "...#.#####",
            ".#.####.#.",
            "..#..###.#",
            "..##.#..#.",
            "",
            "Tile 1489:",
            "##.#.#....",
            "..##...#..",
            ".##..##...",
            "..#...#...",
            "#####...#.",
            "#..#.#.#.#",
            "...#.#.#..",
            "##.#...##.",
            "..##.##.##",
            "###.##.#..",
            "",
            "Tile 2473:",
            "#....####.",
            "#..#.##...",
            "#.##..#...",
            "######.#.#",
            ".#...#.#.#",
            ".#########",
            ".###.#..#.",
            "########.#",
            "##...##.#.",
            "..###.#.#.",
            "",
            "Tile 2971:",
            "..#.#....#",
            "#...###...",
            "#.#.###...",
            "##.##..#..",
            ".#####..##",
            ".#..####.#",
            "#..#.#..#.",
            "..####.###",
            "..#.#.###.",
            "...#.#.#.#",
            "",
            "Tile 2729:",
            "...#.#.#.#",
            "####.#....",
            "..#.#.....",
            "....#..#.#",
            ".##..##.#.",
            ".#.####...",
            "####.#.#..",
            "##.####...",
            "##..#.##..",
            "#.##...##.",
            "",
            "Tile 3079:",
            "#.#.#####.",
            ".#..######",
            "..#.......",
            "######....",
            "####.#..#.",
            ".#...#.##.",
            "#.#####.##",
            "..#.###...",
            "..#.......",
            "..#.###...",
            ""
    };



}
