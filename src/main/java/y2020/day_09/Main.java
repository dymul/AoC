package y2020.day_09;

public class Main {

    public static void main(String[] args) {
        int wnd = 25;
        long[] arr = input;
        for (int i = wnd; i < arr.length; i++) {
            if (invalid(arr, i , wnd)) {
                System.out.println("i: " + i + ", v: " + arr[i]);
                break;
            }
        }
        //range(in2, 127);
        range(input, 90433990);


    }

    private static boolean invalid(long[] arr, int idx, int wnd) {
        long sum = arr[idx];
        for (int i = idx-wnd; i < idx -1; i++) {
            for (int j = i+1; j< idx; j++ ) {
                if (arr[i] + arr[j] == sum) {
                    return false;
                }
            }

        }
        return true;
    }

    private static void range(long[] arr, long sum) {
        long curr = arr[0];
        int low = 0;
        int high = 0;
        while (curr != sum) {
            if (curr < sum) {
                high++;
                curr+=arr[high];
            } else {
                curr-=arr[low];
                low++;
            }
        }
        System.out.printf("low:%d, high:%d, curr:%d\n", low, high, curr);
        long min = Long.MAX_VALUE;
        long max = 0;
        long real_sum = 0;
        for (int i = low; i <=high; i++) {
            min = min < arr[i] ? min : arr[i];
            max = max > arr[i] ? max : arr[i];
            real_sum +=arr[i];
        }
        System.out.printf("low:%d, high:%d, real:%d\n", min, max, real_sum);
        System.out.println(min + max);
    }



    static long[] in2 = {
            35,
            20,
            15,
            25,
            47,
            40,
            62,
            55,
            65,
            95,
            102,
            117,
            150,
            182,
            127,
            219,
            299,
            277,
            309,
            576

    };

    static long[] input = {
            12L,
            26L,
            18L,
            15L,
            16L,
            21L,
            42L,
            47L,
            39L,
            35L,
            41L,
            24L,
            36L,
            20L,
            43L,
            50L,
            38L,
            5L,
            34L,
            44L,
            2L,
            45L,
            25L,
            17L,
            11L,
            22L,
            59L,
            52L,
            7L,
            9L,
            12L,
            16L,
            72L,
            32L,
            28L,
            48L,
            13L,
            47L,
            27L,
            19L,
            14L,
            20L,
            18L,
            37L,
            15L,
            21L,
            26L,
            31L,
            23L,
            33L,
            24L,
            86L,
            51L,
            65L,
            55L,
            46L,
            30L,
            79L,
            29L,
            56L,
            28L,
            32L,
            34L,
            38L,
            112L,
            35L,
            48L,
            36L,
            39L,
            41L,
            44L,
            47L,
            66L,
            52L,
            53L,
            59L,
            84L,
            64L,
            86L,
            58L,
            69L,
            57L,
            60L,
            61L,
            62L,
            113L,
            92L,
            70L,
            71L,
            93L,
            74L,
            75L,
            97L,
            112L,
            91L,
            123L,
            99L,
            105L,
            109L,
            110L,
            115L,
            117L,
            146L,
            196L,
            132L,
            182L,
            118L,
            179L,
            131L,
            133L,
            309L,
            149L,
            221L,
            200L,
            272L,
            165L,
            172L,
            190L,
            201L,
            204L,
            222L,
            455L,
            437L,
            219L,
            387L,
            232L,
            378L,
            249L,
            349L,
            380L,
            308L,
            480L,
            386L,
            331L,
            354L,
            498L,
            394L,
            337L,
            355L,
            362L,
            612L,
            391L,
            412L,
            405L,
            577L,
            441L,
            451L,
            468L,
            481L,
            540L,
            557L,
            989L,
            586L,
            749L,
            639L,
            961L,
            686L,
            668L,
            685L,
            691L,
            912L,
            746L,
            692L,
            796L,
            753L,
            803L,
            863L,
            817L,
            1149L,
            892L,
            1090L,
            919L,
            949L,
            1172L,
            1499L,
            1371L,
            1666L,
            1324L,
            1482L,
            1414L,
            1481L,
            1353L,
            1359L,
            1376L,
            1383L,
            1438L,
            1495L,
            1445L,
            1549L,
            2358L,
            2272L,
            1709L,
            1736L,
            1811L,
            2039L,
            1868L,
            2091L,
            2308L,
            2496L,
            2677L,
            2683L,
            2707L,
            2712L,
            2729L,
            2735L,
            2821L,
            2736L,
            3631L,
            2759L,
            2828L,
            2883L,
            2940L,
            2994L,
            3959L,
            5340L,
            3547L,
            3445L,
            3827L,
            4974L,
            3907L,
            4575L,
            5533L,
            4804L,
            5173L,
            5360L,
            5390L,
            5419L,
            6181L,
            6273L,
            5471L,
            5580L,
            8334L,
            5587L,
            5877L,
            6439L,
            8470L,
            5934L,
            10384L,
            8966L,
            9032L,
            7272L,
            14422L,
            7734L,
            16261L,
            9297L,
            9977L,
            10592L,
            17031L,
            10533L,
            12115L,
            11521L,
            10890L,
            18926L,
            23470L,
            11051L,
            23533L,
            22092L,
            11811L,
            15174L,
            13206L,
            14966L,
            17455L,
            15006L,
            16238L,
            25766L,
            18162L,
            22740L,
            17711L,
            26017L,
            38132L,
            22572L,
            26064L,
            21423L,
            43995L,
            21941L,
            29232L,
            24257L,
            29977L,
            28762L,
            42419L,
            25017L,
            29522L,
            34400L,
            29444L,
            28172L,
            29972L,
            44179L,
            33949L,
            52544L,
            35873L,
            39134L,
            39652L,
            40283L,
            73701L,
            52016L,
            44513L,
            43364L,
            45680L,
            67896L,
            46198L,
            71536L,
            49274L,
            53189L,
            116120L,
            84814L,
            69174L,
            68455L,
            57616L,
            58144L,
            62121L,
            63921L,
            69822L,
            73083L,
            126071L,
            75007L,
            78786L,
            83647L,
            84796L,
            96529L,
            105485L,
            133095L,
            102463L,
            129845L,
            99387L,
            95472L,
            106890L,
            107418L,
            110805L,
            127966L,
            115760L,
            119737L,
            120265L,
            145768L,
            131227L,
            126042L,
            232932L,
            203419L,
            153793L,
            162433L,
            163582L,
            180176L,
            192001L,
            194859L,
            211232L,
            197935L,
            201850L,
            202362L,
            219652L,
            202890L,
            281759L,
            214308L,
            218223L,
            265505L,
            235497L,
            295936L,
            240002L,
            257269L,
            271810L,
            279835L,
            289624L,
            316226L,
            317375L,
            326015L,
            469745L,
            343758L,
            372177L,
            569459L,
            405252L,
            413082L,
            421502L,
            404212L,
            416670L,
            417198L,
            421113L,
            458225L,
            483728L,
            475499L,
            492766L,
            497271L,
            511812L,
            519837L,
            561434L,
            551645L,
            885685L,
            891247L,
            633601L,
            905848L,
            743213L,
            715935L,
            968843L,
            838700L,
            809464L,
            1403119L,
            817294L,
            1397497L,
            820882L,
            833868L,
            909964L,
            932925L,
            1240484L,
            959227L,
            968265L,
            1400134L,
            1465536L,
            1927492L,
            2143347L,
            1725115L,
            1185246L,
            1349536L,
            1376814L,
            2749670L,
            1621783L,
            1459148L,
            1730846L,
            1626758L,
            1630346L,
            1780109L,
            1638176L,
            1651162L,
            3540844L,
            1654750L,
            1901190L,
            2807029L,
            2308763L,
            3363291L,
            2606441L,
            2153511L,
            2534782L,
            3031564L,
            2823422L,
            3097324L,
            2562060L,
            2644394L,
            2726350L,
            2835962L,
            3110310L,
            3080931L,
            3264934L,
            5370744L,
            5369089L,
            7905526L,
            3289338L,
            5179176L,
            4759952L,
            5413470L,
            8402308L,
            4463250L,
            5358204L,
            5385482L,
            4715571L,
            5141223L,
            4879861L,
            5096842L,
            5206454L,
            6345865L,
            5288410L,
            5946272L,
            5562312L,
            5807281L,
            5916893L,
            6191241L,
            8466413L,
            6554272L,
            10676845L,
            8468514L,
            8851650L,
            7752588L,
            9178821L,
            9223202L,
            19900047L,
            9343111L,
            9560092L,
            9595432L,
            11192763L,
            9812413L,
            9976703L,
            10168271L,
            10385252L,
            11205303L,
            10850722L,
            12108134L,
            11369593L,
            11479205L,
            11724174L,
            12471165L,
            12745513L,
            15020685L,
            14306860L,
            16221102L,
            16604238L,
            17095699L,
            16931409L,
            22856417L,
            19980684L,
            18903203L,
            18938543L,
            21039297L,
            29349751L,
            24997388L,
            19789116L,
            24469687L,
            20553523L,
            21235974L,
            35346157L,
            22220315L,
            22848798L,
            23093767L,
            23203379L,
            25216678L,
            26778025L,
            37457076L,
            33245403L,
            30527962L,
            32825340L,
            33535647L,
            41025090L,
            35834612L,
            41592820L,
            37841746L,
            52474190L,
            44439353L,
            40342639L,
            59037991L,
            43756902L,
            45705661L,
            41789497L,
            43402321L,
            45423694L,
            58194955L,
            62673754L,
            55674138L,
            56448782L,
            48420057L,
            55744640L,
            57305987L,
            63353302L,
            66360987L,
            64063609L,
            68659952L,
            69370259L,
            78184385L,
            73676358L,
            122391293L,
            79631243L,
            84099541L,
            88196255L,
            82132136L,
            85191818L,
            119027440L,
            87213191L,
            97534137L,
            99851103L,
            106615012L,
            104094195L,
            104164697L,
            104868839L,
            105726044L,
            143046617L,
            185730392L,
            90433990L,
            127416911L,
            142247994L,
            132723561L,
            155808494L,
            149001502L,
            172405009L,
            153307601L,
            179482346L,
            187064294L,
            166231677L,
            167323954L,
            169345327L,
            210709207L,
            177647181L,
            191307386L,
            217850901L,
            190285093L,
            196160034L,
            194528185L,
            257757944L,
            223157551L,
            232681984L,
            280724512L,
            256665667L,
            239435492L,
            260140472L,
            274971555L,
            381683486L,
            340308888L,
            302309103L,
            319539278L,
            320631555L,
            354388248L,
            362391711L,
            446950760L,
            642617991L,
            450425565L,
            384813278L,
            451447858L,
            381592479L,
            390688219L,
            386445127L,
            640170833L,
            480915495L,
            604841037L,
            455839535L,
            472117476L,
            496101159L,
            641823958L,
            499575964L,
            721922315L,
            770987136L,
            621848381L,
            622940658L,
            705444833L,
            673927526L,
            777133346L,
            753079930L,
            1226826671L,
            766405757L,
            1163578473L,
            836870692L,
            2003960017L,
            768037606L,
            772280698L,
            842284662L,
            858562603L,
            951940694L,
            1395221356L,
            927957011L,
            955415499L,
            968218635L,
            995677123L,
            2622048027L,
            1122516622L,
            1244789039L,
            1295775907L,
            1328385491L,
            1296868184L,
            1633401844L,
            1427007456L,
            1611642533L,
            1935859171L,
            1626600209L,
            1538686455L,
            1540318304L,
            1604908298L,
            2296604126L,
            1610322268L,
            1981079225L,
            1700847265L,
            2538279279L,
            1907356193L,
            1883372510L,
            1896175646L,
            2622277332L,
            1963895758L,
            2118193745L,
            2367305661L,
            2450902113L,
            2900684205L,
            2592644091L,
            2907190452L,
            2901776482L,
            3231508507L,
            2965693911L,
            3079004759L,
            3143594753L,
            3907623965L,
            3215230566L,
            3803531839L,
            3305755563L,
            6809400447L,
            4905584940L,
            3584219775L,
            3597022911L,
            4502175037L,
            5491575968L,
            4001566255L,
            4014369391L,
            4082089503L,
            6537264070L,
            5083887656L,
            5807874657L,
            5043546204L,
            6908756707L,
            5494420573L,
            5808966934L,
            5867470393L,
            6294235325L,
            6449350316L,
            7491843740L,
            6358825319L,
            6520986129L,
            8800176136L,
            6889975338L,
            6902778474L,
            7666309278L,
            9508789964L,
            7679112414L,
            7598589166L,
            8015935646L,
            10308604716L,
            9810533189L,
            8096458894L,
            9576510076L,
            12653060644L,
            10127433860L,
            10537966777L,
            11303387507L,
            11853245892L,
            13248800657L,
            14310170971L,
            12161705718L,
            12743585641L,
            12879811448L,
            20740644397L,
            13261603793L,
            13410961467L,
            13792753812L,
            14488564504L,
            17440745251L,
            21077270745L,
            17187902378L,
            15277701580L,
            15614524812L,
            16112394540L,
            17672968970L,
            26510404450L,
            18223892754L,
            19703943936L,
            20665400637L,
            25096141319L,
            22391212669L,
            24733057340L,
            25572667185L,
            24905291359L,
            34533398209L,
            25041517166L,
            25623397089L,
            26672565260L,
            32016646566L,
            29407278624L,
            27203715279L,
            28281318316L,
            44684980204L,
            30892226392L,
            43129184113L,
            31726919352L,
            33287493782L,
            33838417566L,
            33785363510L,
            42578260329L,
            37927836690L,
            38889293391L,
            45398457977L,
            43056613306L,
            54140335964L,
            47124270009L,
            56464893577L,
            69729178566L,
            61134197976L,
            52245232445L,
            51714082426L,
            52295962349L,
            53876280539L,
            55485033595L,
            83574273595L,
            58930634631L,
            62619145744L,
            84768506931L,
            64179720174L,
            65014413134L,
            72674656901L,
            71215330472L,
            67623781076L,
            71713200200L,
            83326294667L,
            97819928022L,
            108760855926L,
            88455071283L,
            94770695732L,
            98838352435L,
            148340707801L,
            103959314871L,
            104010044775L,
            104541194794L,
            166483895932L,
            105590362965L,
            109361314134L,
            112806915170L,
            118104179339L,
            132638194210L,
            123110354805L,
            147506014841L,
            131803501250L,
            129194133308L,
            136727613334L,
            139336981276L,
            155039494867L,
            150950075743L,
            160168271483L,
            261147622971L,
            183225767015L,
            187293423718L,
            270443210803L,
            193609048167L,
            228032485743L,
            208500509665L,
            236344696044L,
            208551239569L,
            217348109964L,
            214951677099L,
            348648543034L,
            268531114584L,
            301329946354L,
            379251802310L,
            377516381447L,
            252304488113L,
            260997634558L,
            276064594610L,
            280144209051L,
            315207766350L,
            388200757226L,
            305989570610L,
            353777319650L,
            432299787063L,
            370519190733L,
            376834815182L,
            380902471885L,
            408560725266L,
            402109557832L,
            488649184157L,
            417051749234L,
            423502916668L,
            628792752085L,
            591272360960L,
            467256165212L,
            768586111566L,
            513302122671L,
            1058528526172L,
            528369082723L,
            755886877482L,
            586133779661L,
            537062229168L,
            556208803661L,
            840554665902L,
            621197336960L,
            659766890260L,
            930478640555L,
            821033484862L,
            1428353001826L,
            747354005915L,
            1179389794150L,
            797954221119L,
            810670283098L,
            819161307066L,
            884307914446L,
            945420831957L,
            1618987705981L,
            980558287883L,
            995625247935L,
            1004318394380L,
            1280964227220L,
            1396763469563L,
            1065431311891L,
            1941046079892L,
            2175707007741L,
            1093271032829L,
            1158259566128L,
            1177406140621L,
            2562243416852L,
            1631661920361L,
            1407120896175L,
            1640194791928L,
            1545308227034L,
            2586510690325L,
            2722714367655L,
            1703469221512L,
            1608624504217L,
            1976183535818L,
            2374235260049L,
            1829728746403L,
            1925979119840L,
            1984876682263L,
            1999943642315L,
            2181724535001L,
            4289979911837L,
            2335665706749L,
            2817600932549L,
            3339984101129L,
            2584527036796L,
            2500391929004L,
            3343664013440L,
            3236849642578L,
            4331338871872L,
            3679652757330L,
            4722658009970L,
            2952429123209L,
            3153932731251L,
            3248777448546L,
            3312093725729L,
            4648693487495L,
            5134153658210L,
            3438353250620L,
            3755707866243L,
            3814605428666L,
            8087046738115L,
            3910855802103L,
            4517390241750L,
            4181668177316L,
            4682116464005L,
            6778337351749L,
            6157585033678L,
            5084918965800L,
            7004485314789L,
            5536956160005L,
            6655757739169L,
            6106361854460L,
            6189278765787L,
            9595938284298L,
            6201206571755L,
            6264522848938L,
            7930893912551L,
            8331995670416L,
            6560871174275L,
            6750446976349L,
            7194061116863L,
            7252958679286L,
            11274197731587L,
            7725461230769L,
            7996273605982L,
            10839701497683L,
            10068440835781L,
            9767035429805L,
            8863784641321L,
            10219072624010L,
            13944508093212L,
            10621875125805L,
            11191280820260L,
            11643318014465L,
            11726234925792L,
            15785217050085L,
            20058230596208L,
            12390485337542L,
            12465729420693L,
            12762077746030L,
            13458583965801L,
            14892866844691L,
            18951356511817L,
            14557144780257L,
            14447019796149L,
            15190334722845L,
            14978419910055L,
            15721734836751L,
            16589245872090L,
            16860058247303L,
            18630820071126L,
            28437003875856L,
            28232563886555L,
            31146390652347L,
            20840947749815L,
            21813155946065L,
            22265193140270L,
            42872625578139L,
            23369552940257L,
            24116720263334L,
            34203641283607L,
            25849069303343L,
            25152563083572L,
            36562682586566L,
            26220661711831L,
            27905603761950L,
            29004164576406L,
            34673091348568L,
            32581793084054L,
            43415423785911L,
            44725899413157L,
            49218622243600L,
            32310980708841L,
            45993510833387L,
            35490878318429L,
            39471767820941L,
            55263110915681L,
            68721694881482L,
            42654103695880L,
            43106140890085L,
            45929876209399L,
            50337381975165L,
            47486273203591L,
            66785434367661L,
            49269283346906L,
            55224826288237L,
            51373224795403L,
            70163969666997L,
            77593886507234L,
            54126265473781L,
            75687933974139L,
            61315145285247L,
            90655775622556L
    };

}
